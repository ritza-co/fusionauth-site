---
layout: blog-post
title: Deploying FusionAuth on DigitalOcean using the One-click Installer
description: Revised version of the guide from the DigitalOcean Marketplace
author: Dean Rodman
category: blog
excerpt_separator: "<!--more-->"
---

In this tutorial, you will install FusionAuth onto a Kubernetes cluster hosted on DigitalOcean. You can install FusionAuth with one click from the DigitalOcean marketplace, but you will need to follow some additional steps in order to host your FusionAuth instance on a publicly accessible IP. 

## Prerequisites

In order to follow along with this tutorial, you need to have a DigitalOcean account, which you can sign up for [here](https://www.digitalocean.com/go/developer-brand). You will also need to install the following command line tools:

- [`doctl`](https://docs.digitalocean.com/reference/doctl/how-to/install/), the DigitalOcean command line interface
- [`kubectl`](https://kubernetes.io/docs/tasks/tools/), the Kubernetes command line interface

Click the links above and follow the instructions for installing, configuring and authenticating each tool for your system.

## Installation

You can install FusionAuth on DigitalOcean by clicking the "Install App" button at [this link](https://marketplace.digitalocean.com/apps/fusionauth).

{% include _image.liquid src="/assets/img/blogs/digitalocean/digitalocean-install-app.png" alt="Install FusionAuth from DigitalOcean marketplace" class="img-fluid" figure=false %}

On the following screen, select "Install". By default, this will install FusionAuth on a new Kubernetes cluster, though you can choose an existing cluster from the dropdown if you have one. 

{% include _image.liquid src="/assets/img/blogs/digitalocean/digitalocean-select-cluster.png" alt="Select Kubernetes cluster to install FusionAuth on" class="img-fluid" figure=false %}

You will then be taken to the cluster configuration page. The default values here will work. You may want to choose the project to install under, and give a more readable name to the cluster. After that, you can scroll down to the bottom of the page and click "Create Cluster".  Three nodes will be created in order for FusionAuth to work properly: one for the database, one for elasticsearch, and one for the FusionAuth API.

{% include _image.liquid src="/assets/img/blogs/digitalocean/digitalocean-create-cluster.png" alt="Settings configuration for new Kubernetes cluster" class="img-fluid" figure=false %}

FusionAuth may take several minutes to install. Once it does, you can click on its name to access guide, resources, settings and more. Select the "Overview" panel, and click "Get Started" to the second step "Connecting to Kubernetes". There you will you find a command on the "Automated" tab, in the the "Overview" panel with the appropriate value for `<YOUR_CLUSTER_ID>`.

```sh
doctl kubernetes cluster kubeconfig save <YOUR_CLUSTER_ID>
```

Running that command in your terminal (assuming you have already installed the [DigitalOcean command line tool](https://docs.digitalocean.com/reference/doctl/how-to/install/)) should return the following.

```sh
Notice: Adding cluster credentials to kubeconfig file found in "/Users/<USERNAME>/.kube/config"
Notice: Setting current-context to <YOUR_CLUSTER_NAME>
```

FusionAuth is now running on a publicly accessible IP address. To retrieve this address, run the following command in your terminal:

```sh
export SERVICE_IP=$(kubectl get svc --namespace fusionauth fusionauth -o jsonpath='{.status.loadBalancer.ingress[0].ip}') \
echo http://$SERVICE_IP:9011/
```

This command will output URL address to the terminal. Navigate to this URL in your web browser. You will be taken to the FusionAuth Setup Wizard. [Complete these steps](https://fusionauth.io/blog/2019/02/05/using-the-setup-wizard) to start using FusionAuth on your public Kubernetes cluster, provisioned by DigitalOcean.

## Starting Over

If, for any reason, you decide to start from scratch, you need to follow a couple steps to remove all installed components and configurations.

First, you will need to delete the `fusionauth` namespace in your Kubernetes cluster. To do this, run the `delete namespace` command using the Kubernetes command line tool, `kubectl` in your terminal.

```sh
kubectl delete namespace fusionauth
```

Secondly, destroy your Kubernetes cluster by navigating to your Kubernetes cluster on your Digitial Ocean admin console, and then clicking "Actions" and then "Destroy".

{% include _image.liquid src="/assets/img/blogs/digitalocean/digitalocean-destroy-cluster.png" alt="Destroy the Kubernetes cluster" class="img-fluid" figure=false %}

## Next steps

You've now deployed a FusionAuth instance on a public Kubernetes cluster hosted on DigitalOcean. From here, you can [create an application](https://fusionauth.io/docs/v1/tech/core-concepts/applications) and [register users to it](https://fusionauth.io/docs/v1/tech/tutorials/register-user-login-api) to implement a login page. Be sure to check out the [guides](https://fusionauth.io/docs/v1/tech/guides/) for more information about how to implement FusionAuth's many features into your application.
